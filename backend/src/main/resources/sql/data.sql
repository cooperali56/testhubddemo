USE testhub;

-- 初始化项目
INSERT INTO `tb_project` (`name`, `description`, `creator_id`)
VALUES ('测试管理平台', '测试管理平台项目', 1);

-- 初始化模块
INSERT INTO `tb_module` (`name`, `description`, `project_id`, `parent_id`)
VALUES 
('用户管理', '用户管理模块', 1, NULL),
('测试用例管理', '测试用例管理模块', 1, NULL),
('测试计划管理', '测试计划管理模块', 1, NULL),
('测试报告管理', '测试报告管理模块', 1, NULL);

-- 初始化测试用例
INSERT INTO `tb_test_case` (`name`, `description`, `precondition`, `steps`, `expected_result`, `status`, `priority`, `module_id`, `project_id`, `creator_id`)
VALUES 
('验证用户登录功能', '验证用户使用正确的用户名和密码可以成功登录系统', '系统中已存在用户账号', '1. 输入正确的用户名\n2. 输入正确的密码\n3. 点击登录按钮', '登录成功，跳转到首页', 2, 2, 1, 1, 1),
('验证用户名错误的登录', '验证用户使用错误的用户名登录时系统的反应', '系统中已存在用户账号', '1. 输入错误的用户名\n2. 输入正确的密码\n3. 点击登录按钮', '登录失败，显示"用户名或密码错误"的提示', 2, 1, 1, 1, 1),
('验证密码错误的登录', '验证用户使用错误的密码登录时系统的反应', '系统中已存在用户账号', '1. 输入正确的用户名\n2. 输入错误的密码\n3. 点击登录按钮', '登录失败，显示"用户名或密码错误"的提示', 2, 1, 1, 1, 1),
('验证创建测试用例功能', '验证用户能够成功创建新的测试用例', '用户已登录，具有创建测试用例的权限', '1. 进入测试用例管理页面\n2. 点击"新建测试用例"按钮\n3. 填写测试用例信息\n4. 点击"保存"按钮', '测试用例创建成功，并显示在测试用例列表中', 0, 2, 2, 1, 1),
('验证编辑测试用例功能', '验证用户能够成功编辑已有的测试用例', '用户已登录，具有编辑测试用例的权限，系统中已存在测试用例', '1. 进入测试用例管理页面\n2. 在测试用例列表中找到目标用例\n3. 点击"编辑"按钮\n4. 修改测试用例信息\n5. 点击"保存"按钮', '测试用例更新成功，修改的信息被正确保存', 0, 1, 2, 1, 1);

-- 初始化测试计划
INSERT INTO `tb_test_plan` (`name`, `description`, `project_id`, `start_time`, `end_time`, `status`, `creator_id`)
VALUES 
('系统功能测试计划', '对系统基本功能进行测试的计划', 1, NOW(), DATE_ADD(NOW(), INTERVAL 7 DAY), 1, 1); 